<!DOCTYPE html>
  <head>
    <meta charset="utf-8" />
    <title>Go North</title>
    <link rel="stylesheet" type="text/css" href="./css/index1.css" />
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Bungee+Inline&display=swap" rel="stylesheet" />
  </head>

  <body>
    <div id="container">
      <div class="hide" id="menu-button"> Menu </div>
      <canvas id="game-canvas"></canvas>

      <div id="menu-container" class="hide menu-container">
        <div class="header">GO INVADE</div>
        <div id="about-button" class="hide button">About</div>
        <div id="instructions-button" class="hide button">Instructions</div>
        <div id="resume-button" class="hide button">Resume</div>
        <div id="restart-button" class="hide button">Restart</div>
      </div>

      <div id="leaderboard-container" class="hide leaderboard-container">
        <table id="leaderboard-data">
          <thead>
            <tr>
              <th style="color: #38ec9c;">NAME</th>
              <th style="color: #38ec9c;">SCORE</th>
            </tr>
          </thead>
          <tbody id="leaderboard-data-body"></tbody>
        </table>
        <div id="close-button" class="hide"><p>Close</p></div>
        <div id="restart-buttonlb" class="hide btn"><p>Restart</p></div>
        <div class="hide" id="enter-name">
          <p class="highscore">NEW HIGHSCORE!</p>
          <form action="#">
            <div class="highscore-name">Enter Your Name</div>
            <input type="text" id="name" name="name" value="" maxlength="4" required><br>
            <input type="text" id="score" value="" class="hide"><br>
            <div id="submit-button" class="btn"><p>Submit</p></div>
          </form> 
        </div>
      </div>

      <div id="about" class="hide">
        <div id="close-about" class="hide">close[x]</div>
        <p>
          This is a remake of the classic arcade game, Space Invaders.
          <br />
          Made by <a id="port-link" href="http://www.jayhwang.xyz">Jay Hwang</a>
        </p>
      </div>

      <div id="instructions" class="hide">
        <div id="close-instructions" class="hide">close[x]</div>
        <p>
          Press space to shoot, and use the arrow keys to move.

          <br />

          Every once in a while, a mystery ufo will spawn. If you manage to kill it, it may drop items that upgrade your
          ship. Be sure to pick these up quickly because they will disappear! </p
        ><p />
      </div>

      <div id="invader-info" class="show">
      </div>

      <div id="" class="hide">
      </div>

      <div id="play-game">
        <p>CLICK TO START</p>
      </div>
       
      <div id="leaderboard">
        <p>LEADERBOARD</p>
      </div>

      <div class="hide" id="restart-game">
        <p>PLAY AGAIN</p>
      </div>

      <!-- Sprite images -->

      <img class="hide" id="mute" src="./images/audio.jpg" />

      <img id="audio" src="./images/mute.jpg" />

      <img class="hide" id="game-over" src="./images/game-over.jpg" />

      <img id="main-logo" class="main-logo" src="images/main-logo.jpg" />

      <img id="main-logo-2" class="main-logo2" src="images/main-logo.jpg" />

      <img class="" id="splash-instruction" src="./images/score.png" />

      <!-- <img
        id="play-game"
        src="./images/play-game.jpg" /> -->

      <img class="hide" id="defender" src="./images/defender.jpg" />

      <img class="hide" id="defender-death" src="./images/defender-death.jpg" />

      <img class="hide" id="grunt-1" src="./images/grunt-1.jpg" />

      <img class="hide" id="grunt-2" src="./images/grunt-2.jpg" />

      <img class="hide" id="soldier-1" src="./images/lighning-1.png" />

      <img class="hide" id="soldier-2" src="./images/lighning-2.png" />

      <img class="hide" id="invader-1" src="./images/g-1.png" />

      <img class="hide" id="invader-2" src="./images/g-2.png" />

      <img class="hide" id="ufo" data-count="1" src="./images/a-1.png" />

      <img class="hide" id="lives" src="./images/lives.jpg" />

      <img class="hide" id="ship-death" src="./images/ship-death.jpg" />
    </div>

    <div class="row">
      <div class="mobilebutton no-zoom" id="left"> </div>
      <div class="mobilebutton no-zoom" id="right"> </div>
      <div class="mobilebutton no-zoom" id="shoot"> </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.1/howler.core.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <!-- <script language="JavaScript" src="./dist/bundle.js"></script> -->
  <script language="JavaScript" src="bundle.js"></script>
    <script>


    if (window.innerWidth>1200){
      document.getElementById("container").style.height = window.innerHeight + "px";
    }


    $('.no-zoom').bind('touchend', function(e) {
  e.preventDefault();
  $(this).click();
})


$(document).ready(function() {
	$(document).bind("contextmenu", function(e) {
		return false;
	});
});


$(document).ready(function(){
   $('div').disableSelection();

   let enemiesList = [
    // ["./images/a-1.png", "./images/a-2.png"],
    // ["./images/b-1.png", "./images/b-2.png"],
    // ["./images/c-1.png", "./images/c-2.png"],
    // ["./images/d-1.png", "./images/d-2.png"],
    ["./images/e-1.png", "./images/e-2.png"],
    ["./images/f-1.png", "./images/f-2.png"],
    ["./images/g-1.png", "./images/g-2.png"],
    ["./images/h-1.png", "./images/h-2.png"],
    ["./images/i-1.png", "./images/i-2.png"],
    ["./images/j-1.png", "./images/j-2.png"],
   ]
   let enemiesEle = [
    ["grunt-1", "grunt-2"],
    ["soldier-1", "soldier-2"],
    ["invader-1", "invader-2"]
   ]

   for (let ene of enemiesEle){
    if(enemiesList.length == 0){
      break
    }
    const random = Math.floor(Math.random() * (enemiesList.length-1));
    document.getElementById(ene[0]).src = enemiesList[random][0]
    document.getElementById(ene[1]).src = enemiesList[random][1]
    enemiesList.splice(random, 1)
   }

   setInterval(function() {
    let ufo = document.getElementById("ufo")
    console.log(ufo)
    		  let ufoList = ["./images/a-1.png", "./images/b-1.png", "./images/d-1.png"];
          if (ufo.dataset.count == 1){
            ufo.src = ufoList[1];
            ufo.dataset.count = 2
          }
          else if (ufo.dataset.count == 2){
            ufo.src = ufoList[2];
            ufo.dataset.count = 3
          }
          else if (ufo.dataset.count == 3){
            ufo.src = ufoList[0];
            ufo.dataset.count = 1
          }
   }, 5000)

});

$.fn.extend({
    disableSelection: function() {
        this.each(function() {
            this.onselectstart = function() {
                return false;
            };
            this.unselectable = "on";
            $(this).css('-moz-user-select', 'none');
            $(this).css('-webkit-user-select', 'none');
        });
        return this;
    }
});
    </script>
  </body>
</html>
